const a5_0xb8c9=['/nx-cloud/executions/tasks','createApiAxiosInstance','__awaiter','/nx-cloud/executions/complete-run-group','tasks','completeRunGroupWithError','../../../utilities/metric-logger','post','dtePollTasks','throw','runGroup','completeRunGroup','error:\x20','data','response','createMetricRecorder','../../../utilities/nx-imports','note','../../../utilities/axios','agentName','apply','axiosException','__esModule','apiAxiosInstance','value','mapRespToPerfEntry','then','Completing\x20run\x20group\x20with\x20an\x20error','next','VERBOSE_LOGGING','axiosMultipleTries','done','recordMetric','DistributedAgentApi','RUNNER_FAILURE_PERF_ENTRY'];(function(_0x26d9eb,_0xb8c901){const _0x30da06=function(_0x416bd2){while(--_0x416bd2){_0x26d9eb['push'](_0x26d9eb['shift']());}};_0x30da06(++_0xb8c901);}(a5_0xb8c9,0x107));const a5_0x30da=function(_0x26d9eb,_0xb8c901){_0x26d9eb=_0x26d9eb-0x0;let _0x30da06=a5_0xb8c9[_0x26d9eb];return _0x30da06;};'use strict';var __awaiter=this&&this[a5_0x30da('0x13')]||function(_0x4de3a3,_0x36501c,_0x59eefe,_0x3529f2){function _0x3af494(_0x569460){return _0x569460 instanceof _0x59eefe?_0x569460:new _0x59eefe(function(_0x347eab){_0x347eab(_0x569460);});}return new(_0x59eefe||(_0x59eefe=Promise))(function(_0x80e93e,_0x174626){function _0xbe0a84(_0x4e6965){try{_0x53a0d6(_0x3529f2[a5_0x30da('0xa')](_0x4e6965));}catch(_0xfa649){_0x174626(_0xfa649);}}function _0x26b564(_0x469e33){try{_0x53a0d6(_0x3529f2[a5_0x30da('0x1a')](_0x469e33));}catch(_0x35ae57){_0x174626(_0x35ae57);}}function _0x53a0d6(_0x47dc08){_0x47dc08[a5_0x30da('0xd')]?_0x80e93e(_0x47dc08['value']):_0x3af494(_0x47dc08[a5_0x30da('0x6')])[a5_0x30da('0x8')](_0xbe0a84,_0x26b564);}_0x53a0d6((_0x3529f2=_0x3529f2[a5_0x30da('0x2')](_0x4de3a3,_0x36501c||[]))['next']());});};Object['defineProperty'](exports,a5_0x30da('0x4'),{'value':!![]});exports['DistributedAgentApi']=void 0x0;const axios_1=require(a5_0x30da('0x0'));const environment_1=require('../../../utilities/environment');const metric_logger_1=require(a5_0x30da('0x17'));const {output}=require(a5_0x30da('0x21'));class DistributedAgentApi{constructor(_0x222917,_0x20527d,_0x542d1e){this['runGroup']=_0x20527d;this[a5_0x30da('0x1')]=_0x542d1e;this[a5_0x30da('0x5')]=(0x0,axios_1[a5_0x30da('0x12')])(_0x222917);}[a5_0x30da('0x15')](_0x38de42,_0x5db3af,_0x577bd1){var _0x27f56c;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x8a07b3=(0x0,metric_logger_1[a5_0x30da('0x20')])(a5_0x30da('0x19'));try{const _0x3baf00=yield(0x0,axios_1[a5_0x30da('0xc')])(()=>this[a5_0x30da('0x5')]['post'](a5_0x30da('0x11'),{'runGroup':this[a5_0x30da('0x1b')],'agentName':this[a5_0x30da('0x1')],'executionId':_0x38de42,'statusCode':_0x5db3af,'completedTasks':_0x577bd1}));_0x8a07b3[a5_0x30da('0xe')]((0x0,metric_logger_1[a5_0x30da('0x7')])(_0x3baf00));return _0x3baf00[a5_0x30da('0x1e')];}catch(_0x4c2159){_0x8a07b3[a5_0x30da('0xe')](((_0x27f56c=_0x4c2159===null||_0x4c2159===void 0x0?void 0x0:_0x4c2159[a5_0x30da('0x3')])===null||_0x27f56c===void 0x0?void 0x0:_0x27f56c[a5_0x30da('0x1f')])?(0x0,metric_logger_1[a5_0x30da('0x7')])(_0x4c2159[a5_0x30da('0x3')][a5_0x30da('0x1f')]):metric_logger_1[a5_0x30da('0x10')]);throw _0x4c2159;}});}[a5_0x30da('0x16')](_0xe33985){var _0x5ba5ab;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1['VERBOSE_LOGGING']){output[a5_0x30da('0x22')]({'title':a5_0x30da('0x9'),'bodyLines':['runGroup:\x20'+this[a5_0x30da('0x1b')],a5_0x30da('0x1d')+_0xe33985]});}const _0xc6733d=(0x0,metric_logger_1['createMetricRecorder'])(a5_0x30da('0x1c'));try{const _0x21ae33=yield(0x0,axios_1[a5_0x30da('0xc')])(()=>this[a5_0x30da('0x5')][a5_0x30da('0x18')](a5_0x30da('0x14'),{'runGroup':this[a5_0x30da('0x1b')],'agentName':this[a5_0x30da('0x1')],'criticalErrorMessage':_0xe33985}));if(environment_1[a5_0x30da('0xb')]){output[a5_0x30da('0x22')]({'title':'Completed\x20run\x20group\x20with\x20an\x20error'});}_0xc6733d[a5_0x30da('0xe')]((0x0,metric_logger_1[a5_0x30da('0x7')])(_0x21ae33));}catch(_0x59eec1){_0xc6733d[a5_0x30da('0xe')](((_0x5ba5ab=_0x59eec1===null||_0x59eec1===void 0x0?void 0x0:_0x59eec1['axiosException'])===null||_0x5ba5ab===void 0x0?void 0x0:_0x5ba5ab[a5_0x30da('0x1f')])?(0x0,metric_logger_1[a5_0x30da('0x7')])(_0x59eec1[a5_0x30da('0x3')][a5_0x30da('0x1f')]):metric_logger_1['RUNNER_FAILURE_PERF_ENTRY']);console['error'](_0x59eec1);}});}}exports[a5_0x30da('0xf')]=DistributedAgentApi;