<div class="auth-page">
    <div class="container page">
        <div class="row" >
            <div class="clo-md-6 col-xs-12">
                <h1 class="text-xs-center">Sign up</h1>
                <p class="text-xs-center">
                    <a [routerLink]="['/login']"> Have an account?</a>
                </p>

                <ms-backend-error-messages 
                *ngIf="backendErrorsSelector$ | async"
                [backendErrors]="backendErrorsSelector$ | async"></ms-backend-error-messages>

                <div *ngIf="isAccountCreatedSelector$ |async">
                    Account created, now an administrator need to activated it :)
                </div>

                <form [formGroup]="form" (ngSubmit)="onSubmit()">
                <!-- <form> -->
                    <fieldset>
                        <fieldset class="form-group">
                            *display to others
                            <input type="text" class="form-control form-control-lg" placeholder="Pseudo" formControlName="pseudo">
                            <div *ngIf="this.form.controls['pseudo'].invalid && (this.form.controls['pseudo'].dirty || this.form.controls['pseudo'].touched)"
                                class="alert">
                                <div *ngIf="this.form.controls['pseudo'].errors?.['required']">Pseudo is required.</div>
                                <div *ngIf="this.form.controls['pseudo'].errors?.['minlength']">Pseudo must be at least 3 characters long.
                                </div>
                            </div>
                        </fieldset> 
                        <fieldset class="form-group">
                            *for login
                            <input type="text" class="form-control form-control-lg" placeholder="Nickname" formControlName="nickname">
                            <div *ngIf="this.form.controls['nickname'].invalid && (this.form.controls['nickname'].dirty || this.form.controls['nickname'].touched)"
                                class="alert">
                                <div *ngIf="this.form.controls['nickname'].errors?.['required']">Nickname is required.</div>
                                <div *ngIf="this.form.controls['nickname'].errors?.['minlength']">Nickname must be at least 3 characters long.
                                </div>
                            </div>                            
                        </fieldset>
                        <fieldset class="form-group">
                            <input type="Email" class="form-control form-control-lg" placeholder="Email" formControlName="email">
                            <div *ngIf="this.form.controls['email'].invalid && (this.form.controls['email'].dirty || this.form.controls['email'].touched)"
                                class="alert">
                                <div *ngIf="this.form.controls['email'].errors?.['required']">Email is required.</div>
                                <div *ngIf="this.form.controls['email'].errors?.['minlength']">Email must be at least 10 characters long.</div>
                                <div *ngIf="this.form.controls['email'].errors?.['email']">Wrong format email.</div>
                            </div>
                        </fieldset>
                        <fieldset class="form-group">
                            <input type="password" class="form-control form-control-lg" placeholder="Password" formControlName="password">
                            <div *ngIf="this.form.controls['password'].invalid && (this.form.controls['password'].dirty || this.form.controls['password'].touched)"
                                class="alert">
                                <div *ngIf="this.form.controls['password'].errors?.['required']">Password is required.</div>
                                <div *ngIf="this.form.controls['password'].errors?.['minlength']">Password must be at least 4 characters long.</div>
                            </div>
                        </fieldset>                   
                        <button class="btn btn-lg btn-primary pull-xs-right" type="submit" [disabled]="(isSubmittingsSelector$ | async) || !this.form.valid">
                            Sign up
                        </button>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</div>