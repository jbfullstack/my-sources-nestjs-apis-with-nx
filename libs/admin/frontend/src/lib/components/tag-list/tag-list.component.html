<mat-accordion class="example-headers-align" multi>

    <hr>
    <br>

    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title> Create </mat-panel-title>
            <mat-panel-description>    
                Tag            
                <mat-icon>create</mat-icon>
            </mat-panel-description>
        </mat-expansion-panel-header>
        <form id="tag"  [formGroup]="form" (ngSubmit)="onSubmit()">  
            <mat-card class="mat-card">
                <div *ngIf="this.form.controls['title'].invalid && (this.form.controls['title'].dirty || this.form.controls['title'].touched)" class="alert">
                    <div *ngIf="this.form.controls['title'].errors?.['required']">Title is required.</div>
                    <div *ngIf="this.form.controls['title'].errors?.['minlength']">Title must be at least 2 characters long.</div>
                </div>

                <div *ngIf="this.form.controls['description'].invalid && (this.form.controls['description'].dirty || this.form.controls['description'].touched)" class="alert">
                    <div *ngIf="this.form.controls['description'].errors?.['required']">Description is required.</div>
                    <div *ngIf="this.form.controls['description'].errors?.['minlength']">Description must be at least 6 characters long. </div>      
                </div> 

                <mat-form-field class="example-form-field" appearance="fill" >
                    <mat-label>Title</mat-label>
                    <input matInput class="input-title" type="text" [(ngModel)]="title" formControlName="title">
                    <button *ngIf="title" matSuffix mat-icon-button aria-label="Clear" (click)="title=''">
                        <mat-icon>close</mat-icon>
                    </button>                    
                </mat-form-field>            

                <mat-form-field class="example-form-field" appearance="fill" [style.width.rem]=10 >
                    <mat-label>Description</mat-label>
                    <input matInput class="input-description" type="text" [(ngModel)]="description" formControlName="description">
                    <button *ngIf="description" matSuffix mat-icon-button aria-label="Clear" (click)="description=''">
                        <mat-icon>close</mat-icon>
                    </button>     
                        
                </mat-form-field>     
                
                <mat-card-actions>
                    <button mat-stroked-button  matTooltip="Create tag {{ this.title }}" [disabled]="!this.form.valid" type="submit" >Create</button>
                </mat-card-actions>
            </mat-card>

        </form>
    </mat-expansion-panel>
    <br>

    <!-- <div class="container">
        <div *ngIf="tagsToDisplay()" class="row">
            <cdk-virtual-scroll-viewport itemSize="50" class="viewport" autosize>
                <div *cdkVirtualFor="let tag of tags;" class="item" [style.height.px]="75">
                    <ms-manage-tag [tag]="tag"> </ms-manage-tag>
                </div>
                <div *ngIf="!tagsToDisplay()" class="row">            
                    <p>No tag found..</p>
                </div>
            </cdk-virtual-scroll-viewport>
        </div>
    </div> -->

    <br>
    <hr>
    <div >
        <div >
            <!-- Search bar -->     
            <mat-icon class="mat-icon-search" aria-hidden="false" fontIcon="search" matSuffix></mat-icon>
            <input [(ngModel)]="searchTagInput" (ngModelChange)="searchTagInputChange($event)">
            <p>filter by name or description</p>
        </div>

        <br>

        <div class="scrollbar" > 
            <div *ngIf="tagsToDisplay()" class="row">
                <div *ngFor="let tag of tags">
                    <ms-manage-tag [tag]="tag"> </ms-manage-tag>
                </div>
            </div>
        </div>
    </div>


</mat-accordion>

