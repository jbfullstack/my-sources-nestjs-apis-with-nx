<mat-tab-group dynamicHeight>
    <mat-tab label="Consult">
        <section class="register">

            <br>

            <div class="auth-page">
                <div class="container page">
                    <div class="row">
                        <div class="clo-md-6 col-xs-12">
                            <div *ngIf="isCurrentUSerLoaded(); else loggedOut">     
                                <mat-card>
                                    <mat-card-title>{{  this.pseudo$ | async }} [{{  this.roleName$ | async }}]</mat-card-title>
                                    <mat-card-subtitle>{{ this.email$ | async }}</mat-card-subtitle>     
                                    <mat-card-content>{{ createdAt()  | date:'short' }}</mat-card-content>
                                </mat-card>
                            </div>
                        </div>
                    </div>
            
                    <ng-template #loggedOut>
                        You need to sign in :)
                    </ng-template>
                </div>
            </div>
        </section>
    </mat-tab>

    <mat-tab label="Edit">
        <section class="register">

            <br>
            <div class="col-md-6 col-md-offset-3 register-form">                  
                <div class="st-login-title text-center">
                    <mat-card class="mat-card">     
                    <form id="register" [formGroup]="form">
                        Pseudo
                        <fieldset class="form-group">
                            <input matInput formControlName="pseudo"  [(ngModel)]="pseudo_input" name="register-pseudo" id="st-pseudo">                        
                            <div *ngIf="this.form.controls['pseudo'].invalid && (this.form.controls['pseudo'].dirty || this.form.controls['pseudo'].touched)"
                            class="alert">
                                <div *ngIf="this.form.controls['pseudo'].errors?.['required']">Pseudo is required.</div>
                                <div *ngIf="this.form.controls['pseudo'].errors?.['minlength']">Pseudo must be at least 3 characters long.
                            </div>
                        </div>
                        </fieldset>

                        Nickname
                        <fieldset class="form-group">                            
                            <input matInput formControlName="nickname" [(ngModel)]="nickname_input" name="register-nickname" id="st-nickname">
                            <div *ngIf="this.form.controls['nickname'].invalid && (this.form.controls['nickname'].dirty || this.form.controls['nickname'].touched)"
                            class="alert">
                                <div *ngIf="this.form.controls['nickname'].errors?.['required']">Nickname is required.</div>
                                <div *ngIf="this.form.controls['nickname'].errors?.['minlength']">Nickname must be at least 3 characters long.
                            </div>
                        </div>   
                        </fieldset>

                        Email 
                        <fieldset class="form-group">                                                           
                            <input matInput formControlName="email" [(ngModel)]="email_input" name="register-email" id="st-email">
                            <div *ngIf="this.form.controls['email'].invalid && (this.form.controls['email'].dirty || this.form.controls['email'].touched)"
                            class="alert">
                                <div *ngIf="this.form.controls['email'].errors?.['required']">Email is required.</div>
                                <div *ngIf="this.form.controls['email'].errors?.['minlength']">Email must be at least 10 characters long.</div>
                            <div *ngIf="this.form.controls['email'].errors?.['email']">Wrong format email.</div>
                        </div>
                        </fieldset>

                        <fieldset class="form-group">
                            <section class="example-section" [formGroup]="enable">
                                <p><mat-checkbox formControlName="edit_password" (change)="onChangeCheckbox($event)">Edit password</mat-checkbox></p>
                            </section>

                            <input (change)="onChangeCheckbox($event)" matInput [(ngModel)]="password_input" formControlName="password"  value="" name="register-password" id="st-password">
                            <button mat-stroked-button  matTooltip="Save {{  this.pseudo$ | async }}'s profile" [disabled]="!this.form.valid" (click)="save()" >Save</button>
                        </fieldset>
                    </form>                    
                    </mat-card>
                    
                </div>
            </div>


        </section>
    </mat-tab> 

</mat-tab-group>
